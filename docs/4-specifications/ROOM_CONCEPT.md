# 「不oo就出不去的房間」概念設計

## 🎯 核心概念

每個挑戰關卡都是一個**上鎖的房間**，玩家必須完成挑戰才能「逃脫」並獲得戳章/獎勵。

## 🏠 房間系統架構

### 用戶空間層級
```
個人像素小屋 (Player.pixelAbodeState)
├── 展示完成的房間戳章/紀念品  
├── 個人收集的主題和裝飾
└── 成就展示牆

挑戰房間 (Level.roomState) 
├── 不同主題的密室
├── 進度可視化 (解鎖機制)
└── 完成後獲得收藏品
```

## 🎮 用戶流程重新設計

### 1. 登入體驗
- 登入後直接進入 **「畫廊(關卡列表)」** 頁面
- 初次使用時，畫廊空空如也，只有一個醒目的 **[+ 開啟你的第一個房間]** 按鈕

### 2. 開啟房間流程
```
點擊 [+] → 選擇房間主題 → 設定挑戰目標 → 
設定每日任務 → 設定期限 → (可選)邀請朋友 → 
房間創建完成 ✨
```

### 3. 房間狀態
- **🔒 進行中房間**: 顯示為「上鎖」狀態，有進度條
- **✅ 已完成房間**: 變成「紀念碑」，展示完成時間和獎勵
- **⚠️ 失敗房間**: 灰色顯示，可重新挑戰或封存

### 4. 導航體驗  
- **「畫廊」** 標籤頁：查看所有房間（進行中/已完成）
- **「工作室」** 標籤頁：快速進入當前挑戰中的房間
- **「小屋」** 標籤頁：個人空間，展示收集品和成就

## 🎨 房間主題系統

### 預設主題
- **經典書房**: 溫馨木質，適合讀書/學習挑戰
- **健身房**: 現代運動風，適合運動挑戰  
- **創作工坊**: 藝術工業風，適合創作挑戰
- **冥想禪室**: 簡約日式，適合冥想/心靈挑戰

### 解鎖機制
完成不同類型挑戰可解鎖新主題:
- 完成5個讀書挑戰 → 解鎖「魔法圖書館」主題
- 完成運動挑戰 → 解鎖「賽博健身房」主題

## 🔓 逃脫機制設計

### 進度可視化
```json
{
  "progress": 75,              // 0-100的進度
  "escapeCondition": {
    "type": "daily_checkin",   // 挑戰類型
    "target": 30,              // 目標天數
    "current": 23,             // 當前完成天數
    "description": "連續打卡30天即可逃出房間"
  },
  "locked": true,              // 房間是否還上鎖
  "daysRemaining": 7           // 剩餘天數
}
```

### 逃脫成功獎勵
- 🏆 房間紀念碑 (在畫廊永久展示)
- 🎨 解鎖新房間主題
- 📦 收集品/裝飾品 (添加到個人小屋)
- 🌟 成就徽章

## 💡 UX/UI 考慮

### 畫廊頁面
- 網格布局展示所有房間
- 進行中的房間有「脈動」效果暗示需要關注
- 完成的房間有「光芒」效果表示成就感
- 空狀態時大大的 [+] 按鈕引導創建

### 工作室頁面
- 沈浸式房間視圖
- 實時進度可視化 (如：逐漸解鎖的門鎖、填滿的進度條)
- 打卡按鈕設計為「密室互動」元素
- 倒計時創造緊迫感

## 🛠 技術實現重點

### 資料庫設計
```sql
-- Level表增加房間狀態
roomState: {
  "scene": "classic_study",
  "theme": "warm_wood", 
  "progress": 75,
  "locked": true,
  "items": ["bookshelf", "lamp"],
  "escapeCondition": {...}
}

-- 新增欄位
completedAt: DateTime?  -- 逃脫時間
```

### API擴充
- GET /api/gallery - 獲取用戶所有房間 
- POST /api/rooms - 創建新房間
- PUT /api/rooms/:id/escape - 處理逃脫邏輯
- GET /api/rooms/:id/progress - 獲取房間進度

---

## 🎪 這個概念的核心魅力

1. **情境代入感**: 「被困在房間裡」比「挑戰關卡」更有代入感
2. **視覺滿足感**: 看到房間逐漸「解鎖」的過程很療癒
3. **收集慾望**: 完成房間獲得紀念品，刺激重複使用
4. **社交話題**: 「我又逃出了一個房間！」比「我完成了挑戰」更有趣

這個概念讓習慣養成不再是枯燥的打卡，而是充滿探險感的「密室逃脫」體驗！ 🗝️✨